= Transferencia de Calor
:experimental:
:nofooter:
:source-highlighter: pygments
:sectnums:
:stem: latexmath
:toc:
:xrefstyle: short

== Problem statement

Se requiere una simulaciÃ³n por computadora para encontrar el momento de equilibrio tÃ©rmico de una lÃ¡mina rectangular a la que se le inyecta calor constante por su borde. La lÃ¡mina es un rectÃ¡ngulo de dos dimensiones dividido en ğ‘… filas y ğ¶ columnas, generando una matriz de celdas cuadradas de ancho y alto â„.

Cada celda almacena una temperatura que varÃ­a con el tiempo segÃºn la fÃ³rmula de transferencia de energÃ­a, que depende de la temperatura de las celdas vecinas y parÃ¡metros fÃ­sicos como la difusividad tÃ©rmica Î±, el tiempo Î”ğ‘¡, y el Ã¡rea de las celdas â„Â².

La simulaciÃ³n actualiza las celdas en cada instante ğ‘˜ hasta alcanzar el equilibrio tÃ©rmico, definido cuando ningÃºn cambio de temperatura significativo (mayor a Îµ) ocurre en las celdas internas.

== SimulaciÃ³n de calor

La simulaciÃ³n comienza con un estado inicial (ğ‘˜=0) de la matriz, manteniendo los bordes a temperatura constante. Se actualizan las celdas internas en cada instante ğ‘˜ hasta alcanzar el equilibrio, lo cual se verifica comparando los cambios de temperatura con un umbral Îµ.

== Programa de simulaciÃ³n

La simulaciÃ³n se ejecuta desde la lÃ­nea de comandos:

* `bin/heatsim jobs/job001.txt 16`: Ejecuta la simulaciÃ³n con 16 hilos de ejecuciÃ³n usando las instrucciones de `job001.txt`.

Argumentos:

1. **Archivo de trabajo**: Contiene las simulaciones a realizar.
2. **Cantidad de hilos**: Opcional, usa la cantidad de CPUs disponibles si se omite.
3. **Ruta de archivos**: Opcional, especifica la ruta de entrada de las lÃ¡minas.

== Archivo de trabajo

Cada lÃ­nea del archivo de trabajo define una simulaciÃ³n con los siguientes parÃ¡metros:

* **Nombre del archivo de lÃ¡mina**: Ej. `plate001.bin`.
* **DuraciÃ³n de cada etapa Î”ğ‘¡**: En segundos.
* **Difusividad tÃ©rmica Î±**: Del material.
* **DimensiÃ³n â„**: TamaÃ±o de las celdas.
* **Sensitividad Îµ**: Umbral de equilibrio tÃ©rmico.

== Archivo de reporte

El reporte de resultados se guarda en un archivo `job###.tsv`, con:

* Estados ğ‘˜ hasta el equilibrio.
* Tiempo transcurrido en formato `YYYY/MM/DD hh:mm:ss`.

== Archivo de lÃ¡mina

Archivos binarios con la estructura:

1. Primeros 8 bytes: NÃºmero de filas (ğ‘…).
2. Siguientes 8 bytes: NÃºmero de columnas (ğ¶).
3. Resto: Temperaturas iniciales de las celdas (doble precisiÃ³n).

== Referencias
* Becker and Kaus (2016). Excerpt from GEOL557 Numerical Modeling of Earth Systems.
